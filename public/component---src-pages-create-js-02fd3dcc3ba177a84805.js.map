{"version":3,"sources":["webpack:///./src/pages/create.js"],"names":["styles","actionsBar","alignItems","actionButton","marginRight","Home","dispatch","useDispatch","useSelector","global","mode","resume","touched","isEdit","exportResume","a","resumeEl","document","getElementById","width","window","parseFloat","getComputedStyle","height","html2canvas","y","canvas","imgData","toDataURL","link","createElement","download","kebabCase","fullname","href","body","appendChild","click","removeChild","toggleMode","type","payload","path","value","useEffect","className","style","color","content","icon","labelPosition","onClick","trigger","disabled","onChange","innerHTML","basic","pointing","title","id","name","role","contacts","contact","data","summary","experience","projects","skills","education","sidebar","map","item","key","social"],"mappings":"qaAWA,IAAMA,EAAS,CACbC,WAAY,CACVC,WAAY,UAEdC,aAAc,CACZC,YAAa,KA4FFC,UAxFF,WACX,IAAMC,EAAWC,wBADA,EAEiBC,uBAAY,qBAAGC,UAAzCC,EAFS,EAETA,KAAMC,EAFG,EAEHA,OAAQC,EAFL,EAEKA,QAChBC,EAAkB,SAATH,EAETI,EAAY,e,EAAA,G,EAAA,UAAG,sCAAAC,EAAA,6DACbC,EAAWC,SAASC,eAAe,UACnCC,EAAQ,oBAAOC,OAAyBC,WAAWD,OAAOE,iBAAiBN,GAAUG,OAAS,EAC9FI,EAAS,oBAAOH,OAAyBC,WAAWD,OAAOE,iBAAiBN,GAAUO,QAAU,GAAK,EAHxF,SAIEC,IAAYR,EAAU,CAAES,EAAG,EAAGN,QAAOI,WAJvC,OAIbG,EAJa,OAKbC,EAAUD,EAAOE,UAAU,cAC7BC,EAAOZ,SAASa,cAAc,MAC7BC,SAAcC,IAAUrB,EAAOsB,UAApC,cACAJ,EAAKK,KAAOP,EACZV,SAASkB,KAAKC,YAAYP,GAC1BA,EAAKQ,QACLpB,SAASkB,KAAKG,YAAYT,GAXP,2C,+KAAH,qDAcZU,EAAa,WACjBjC,EAAS,CACPkC,KAAM,YACNC,QAAS,CAAEC,KAAM,OAAQC,MAAO9B,EAAS,UAAY,WAoBzD,OANA+B,qBAAU,WACJ/B,IAAWD,GACbN,EAAS,CAAEkC,KAAM,YAAaC,QAAS,CAAEC,KAAM,UAAWC,OAAO,OAElE,CAAC9B,EAAQD,EAASN,IAGnB,oCACE,yBAAKuC,UAAU,4CAA4CC,MAAO9C,EAAOC,aACrEY,GACA,kBAAC,IAAD,CAAQkC,MAAM,OAAOC,QAAQ,OAAOC,KAAK,OAAOC,cAAc,QAAQJ,MAAO9C,EAAOG,aAAcgD,QAASZ,IAE5G1B,GACC,kBAAC,IAAD,CACEmC,QAAQ,yBACRI,QAAS,kBAAC,IAAD,CAAQL,MAAM,OAAOC,QAAQ,UAAUC,KAAK,MAAMC,cAAc,QAAQJ,MAAO9C,EAAOG,aAAcgD,QAASZ,MAG1H,kBAAC,IAAD,CAAQQ,MAAM,OAAOC,QAAQ,SAASC,KAAK,WAAWC,cAAc,QAAQJ,MAAO9C,EAAOG,aAAcgD,QAASrC,EAAcuC,SAAUxC,IACzI,yBAAKgC,UAAU,OAAOC,MAAO9C,EAAOC,YAClC,kBAAC,IAAD,CAAaqD,SA9BC,SAAAP,GACQ9B,SAASC,eAAe,uBAChCqC,UAApB,gIACyHR,EADzH,uDAEmCA,EAFnC,mGAG+EA,EAH/E,2DAIuCA,EAJvC,yBA6BM,kBAAC,IAAD,CAAOS,OAAK,EAACT,MAAM,OAAOU,SAAS,QAAnC,2BAMJ,0BAAMZ,UAAU,mEACd,kBAAC,IAAD,CAAKa,MAAM,WACX,yBAAKC,GAAG,SAASd,UAAU,gDACzB,kBAAC,IAAD,CAAQe,KAAMjD,EAAOsB,SAAU4B,KAAMlD,EAAOkD,KAAMC,SAAUnD,EAAOoD,UACnE,kBAAC,IAAD,CAASC,KAAMrD,EAAOsD,UACtB,yBAAKpB,UAAU,iDACb,yBAAKA,UAAU,oBACZlC,EAAOuD,YAAc,kBAAC,IAAD,MACrBvD,EAAOwD,UAAY,kBAAC,IAAD,OAEtB,yBAAKtB,UAAU,uDACZlC,EAAOyD,QAAU,kBAAC,IAAD,MACjBzD,EAAO0D,WAAa,kBAAC,IAAD,MACpB1D,EAAO2D,SAAW3D,EAAO2D,QAAQC,KAAI,SAAAC,GAAI,OACxC,kBAAC,IAAD,CAAMC,IAAQD,EAAKd,MAAV,QAAwBM,KAAMQ,SAI7C,kBAAC,IAAD,CAAQE,OAAQ/D,EAAO+D","file":"component---src-pages-create-js-02fd3dcc3ba177a84805.js","sourcesContent":["import html2canvas from 'html2canvas';\nimport kebabCase from 'lodash.kebabcase';\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Label, Popup } from 'semantic-ui-react';\nimport { Header, Summary, Experience, Projects, Skills, List, Education, Footer, SEO } from '../components';\n\nimport ColorPicker from '../elements/color-picker';\n\nimport '../main.css';\n\nconst styles = {\n  actionsBar: {\n    alignItems: 'center',\n  },\n  actionButton: {\n    marginRight: 15,\n  },\n};\n\nconst Home = () => {\n  const dispatch = useDispatch();\n  const { mode, resume, touched } = useSelector(({ global }) => global);\n  const isEdit = mode === 'edit';\n\n  const exportResume = async () => {\n    const resumeEl = document.getElementById('resume');\n    const width = typeof window !== `undefined` ? parseFloat(window.getComputedStyle(resumeEl).width) : 0;\n    const height = typeof window !== `undefined` ? parseFloat(window.getComputedStyle(resumeEl).height) + 50 : 0;\n    const canvas = await html2canvas(resumeEl, { y: 0, width, height });\n    const imgData = canvas.toDataURL('image/png');\n    var link = document.createElement('a');\n    link.download = `${kebabCase(resume.fullname)}-resume.png`;\n    link.href = imgData;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const toggleMode = () => {\n    dispatch({\n      type: 'SET_FIELD', \n      payload: { path: 'mode', value: isEdit ? 'preview' : 'edit' },\n    });\n  };\n\n  const onColorChange = color => {\n    const customThemeStylesEl = document.getElementById('custom-theme-styles');\n    customThemeStylesEl.innerHTML = `\n      a,.text-primary-500, .text-secondary-500, .section-header, .contact-link, .contact-link:hover, .contact-icon {color: ${color} !important;}\n      .section-header {border-color: ${color} !important;}\n      .btn-secondary, .btn-secondary:hover {color: white !important; background: ${color} !important;}\n      .bg-primary-500, .tag {background: ${color} !important;}\n    `;\n  };\n\n  useEffect(function onFirstTouch() {\n    if (isEdit && !touched) {\n      dispatch({ type: 'SET_FIELD', payload: { path: 'touched', value: true } });\n    }\n  }, [isEdit, touched, dispatch]);\n  \n  return (\n    <>\n      <div className=\"flex container mx-auto bg-white py-5 pl-1\" style={styles.actionsBar}>\n        {!isEdit && (\n          <Button color=\"teal\" content=\"Edit\" icon=\"edit\" labelPosition=\"right\" style={styles.actionButton} onClick={toggleMode} />\n        )}\n        {isEdit && (\n          <Popup\n            content=\"Click to enable Export\"\n            trigger={<Button color=\"teal\" content=\"Preview\" icon=\"eye\" labelPosition=\"right\" style={styles.actionButton} onClick={toggleMode} />}\n          />\n        )}\n        <Button color=\"teal\" content=\"Export\" icon=\"download\" labelPosition=\"right\" style={styles.actionButton} onClick={exportResume} disabled={isEdit} />\n        <div className=\"flex\" style={styles.actionsBar}>\n          <ColorPicker onChange={onColorChange} />\n          <Label basic color=\"teal\" pointing=\"left\">\n            Customize Theme Color\n          </Label>\n        </div>\n      </div>\n\n      <main className=\"antialiased text-neutral-900 bg-neutral-100 min-h-screen sm:p-5\">\n        <SEO title=\"Resume\" />\n        <div id=\"resume\" className=\"container mx-auto shadow bg-white py-5 px-10\">\n          <Header name={resume.fullname} role={resume.role} contacts={resume.contact} />\n          <Summary data={resume.summary} />\n          <div className=\"border-b border-neutral-300 pb-2 my-5 lg:flex\">\n            <div className=\"lg:w-2/3 lg:pr-8\">\n              {resume.experience && <Experience />}\n              {resume.projects && <Projects />}\n            </div>\n            <div className=\"lg:w-1/3 lg:pl-8 lg:border-l lg:border-neutral-300 \">\n              {resume.skills && <Skills />}\n              {resume.education && <Education />}\n              {resume.sidebar && resume.sidebar.map(item => (\n                <List key={`${item.title}-side`} data={item} />\n              ))}\n            </div>\n          </div>\n          <Footer social={resume.social} />\n        </div>\n      </main>\n    </>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}